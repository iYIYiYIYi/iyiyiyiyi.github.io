{"title":"算法设计与分析-课后练习24","uid":"f4283db30cf0b3e79615d34f84d967a7","slug":"算法设计与分析-课后练习24","date":"2023-12-20T06:06:33.000Z","updated":"2023-12-20T14:07:10.394Z","comments":true,"path":"api/articles/算法设计与分析-课后练习24.json","keywords":"记录, 学习, ClaRnS","cover":"/gallery/algo.png","content":"<h1 id=\"课后练习24\"><a href=\"#课后练习24\" class=\"headerlink\" title=\"课后练习24\"></a>课后练习24</h1><img src=\"../gallery/algo/课后练习24.png\" width=\"50%\">\n\n\n<div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki vitesse-dark\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DBD7CAEE\">n </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">5</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">p </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">[</span><span style=\"color: #4C9A91\">6</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">3</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">4</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">8</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">5</span><span style=\"color: #666666\">]</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">t </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">[</span><span style=\"color: #4C9A91\">2</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">1</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">2</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">1</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">1</span><span style=\"color: #666666\">]</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">d </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">[</span><span style=\"color: #4C9A91\">3</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">1</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">4</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">2</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">4</span><span style=\"color: #666666\">]</span></span></code></pre></div><div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki vitesse-dark\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #4D9375\">from</span><span style=\"color: #DBD7CAEE\"> queue </span><span style=\"color: #4D9375\">import</span><span style=\"color: #DBD7CAEE\"> Queue</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CB7676\">def</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #80A665\">calculate_penalty</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">schedule</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> processing_times</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> deadlines</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> penalties</span><span style=\"color: #666666\">):</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    time</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> total_penalty </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">0</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">0</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    </span><span style=\"color: #4D9375\">for</span><span style=\"color: #DBD7CAEE\"> job </span><span style=\"color: #4D9375\">in</span><span style=\"color: #DBD7CAEE\"> schedule</span><span style=\"color: #666666\">:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">        time </span><span style=\"color: #666666\">+=</span><span style=\"color: #DBD7CAEE\"> processing_times</span><span style=\"color: #666666\">[</span><span style=\"color: #DBD7CAEE\">job</span><span style=\"color: #666666\">]</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">        </span><span style=\"color: #4D9375\">if</span><span style=\"color: #DBD7CAEE\"> time </span><span style=\"color: #CB7676\">&gt;</span><span style=\"color: #DBD7CAEE\"> deadlines</span><span style=\"color: #666666\">[</span><span style=\"color: #DBD7CAEE\">job</span><span style=\"color: #666666\">]:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">            total_penalty </span><span style=\"color: #666666\">+=</span><span style=\"color: #DBD7CAEE\"> penalties</span><span style=\"color: #666666\">[</span><span style=\"color: #DBD7CAEE\">job</span><span style=\"color: #666666\">]</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    </span><span style=\"color: #4D9375\">return</span><span style=\"color: #DBD7CAEE\"> total_penalty</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CB7676\">def</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #80A665\">fifo_branch_and_bound</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">n</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> processing_times</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> deadlines</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> penalties</span><span style=\"color: #666666\">):</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    best_schedule </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4D9375\">None</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    min_penalty </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #B8A965\">float</span><span style=\"color: #666666\">(</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #C98A7D\">inf</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #666666\">)</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    mermaid_code </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">[</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #C98A7D\">graph TD</span><span style=\"color: #C99076\">\\n</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #666666\">]</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    mermaid_nodes </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">&#123;&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    q </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> Queue</span><span style=\"color: #666666\">()</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    q</span><span style=\"color: #666666\">.</span><span style=\"color: #DBD7CAEE\">put</span><span style=\"color: #666666\">([])</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    mermaid_nodes</span><span style=\"color: #666666\">[</span><span style=\"color: #B8A965\">str</span><span style=\"color: #666666\">([])]</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #C98A7D\">node</span><span style=\"color: #C99076\">%d%s</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">%</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">(</span><span style=\"color: #B8A965\">len</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">mermaid_nodes</span><span style=\"color: #666666\">),</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #C98A7D\">root</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #666666\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    </span><span style=\"color: #4D9375\">while</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">not</span><span style=\"color: #DBD7CAEE\"> q</span><span style=\"color: #666666\">.</span><span style=\"color: #DBD7CAEE\">empty</span><span style=\"color: #666666\">():</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">        schedule </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> q</span><span style=\"color: #666666\">.</span><span style=\"color: #DBD7CAEE\">get</span><span style=\"color: #666666\">()</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">        </span><span style=\"color: #4D9375\">if</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #B8A965\">len</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">schedule</span><span style=\"color: #666666\">)</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">==</span><span style=\"color: #DBD7CAEE\"> n</span><span style=\"color: #666666\">:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">            penalty </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> calculate_penalty</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">schedule</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> processing_times</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> deadlines</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> penalties</span><span style=\"color: #666666\">)</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">            </span><span style=\"color: #4D9375\">if</span><span style=\"color: #DBD7CAEE\"> penalty </span><span style=\"color: #CB7676\">&lt;</span><span style=\"color: #DBD7CAEE\"> min_penalty</span><span style=\"color: #666666\">:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                min_penalty </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> penalty</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                best_schedule </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #B8A965\">list</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">schedule</span><span style=\"color: #666666\">)</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">        </span><span style=\"color: #4D9375\">else</span><span style=\"color: #666666\">:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">            </span><span style=\"color: #4D9375\">for</span><span style=\"color: #DBD7CAEE\"> job </span><span style=\"color: #4D9375\">in</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #B8A965\">range</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">n</span><span style=\"color: #666666\">):</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                </span><span style=\"color: #4D9375\">if</span><span style=\"color: #DBD7CAEE\"> job </span><span style=\"color: #CB7676\">not</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">in</span><span style=\"color: #DBD7CAEE\"> schedule</span><span style=\"color: #666666\">:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                    new_schedule </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #B8A965\">list</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">schedule</span><span style=\"color: #666666\">)</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">+</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">[</span><span style=\"color: #DBD7CAEE\">job</span><span style=\"color: #666666\">]</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                    </span><span style=\"color: #4D9375\">if</span><span style=\"color: #DBD7CAEE\"> calculate_penalty</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">new_schedule</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> processing_times</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> deadlines</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> penalties</span><span style=\"color: #666666\">)</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">&lt;=</span><span style=\"color: #DBD7CAEE\"> min_penalty</span><span style=\"color: #666666\">:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                        q</span><span style=\"color: #666666\">.</span><span style=\"color: #DBD7CAEE\">put</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">new_schedule</span><span style=\"color: #666666\">)</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                        mermaid_nodes</span><span style=\"color: #666666\">[</span><span style=\"color: #B8A965\">str</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">new_schedule</span><span style=\"color: #666666\">)]</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #C98A7D\">node</span><span style=\"color: #C99076\">%d%s</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">%</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">(</span><span style=\"color: #B8A965\">len</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">mermaid_nodes</span><span style=\"color: #666666\">),</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #B8A965\">str</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">new_schedule</span><span style=\"color: #666666\">))</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                        mermaid_code</span><span style=\"color: #666666\">.</span><span style=\"color: #DBD7CAEE\">append</span><span style=\"color: #666666\">(</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #C98A7D\">   </span><span style=\"color: #C99076\">%s</span><span style=\"color: #C98A7D\"> --&gt; </span><span style=\"color: #C99076\">%s\\n</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">%</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">mermaid_nodes</span><span style=\"color: #666666\">[</span><span style=\"color: #B8A965\">str</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">schedule</span><span style=\"color: #666666\">)],</span><span style=\"color: #DBD7CAEE\"> mermaid_nodes</span><span style=\"color: #666666\">[</span><span style=\"color: #B8A965\">str</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">new_schedule</span><span style=\"color: #666666\">)]))</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    </span><span style=\"color: #4D9375\">return</span><span style=\"color: #DBD7CAEE\"> best_schedule</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> min_penalty</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> mermaid_code</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">best_schedule</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> min_penalty</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> mermaid_code </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> fifo_branch_and_bound</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">n</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> t</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> d</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> p</span><span style=\"color: #666666\">)</span></span></code></pre></div><div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki vitesse-dark\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DBD7CAEE\">best_schedule </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">[</span><span style=\"color: #DBD7CAEE\">job </span><span style=\"color: #CB7676\">+</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">1</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4D9375\">for</span><span style=\"color: #DBD7CAEE\"> job </span><span style=\"color: #4D9375\">in</span><span style=\"color: #DBD7CAEE\"> best_schedule</span><span style=\"color: #666666\">]</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">best_schedule</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> min_penalty</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki vitesse-dark\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #dbd7caee\">([4, 1, 5, 2, 3], 7)</span></span></code></pre></div><p>故可知最优解的罚款值为 7，生成的状态空间树如下：</p>\n<p><a href=\"https://mermaid.live/edit#pako:eNp1kz1vgzAQhv8KuplE-ONsw9Apa6d2qslgBbeJFCCiIDWN8t9LKInPUtjAz-PX57PuAru28lDAV-dO--R9UzZJkjTjWma7tu23yWr1Mv0zy7aLkFu-DIUVy1BauQzRYoAylGKsTBP2FOU3RIph5sEUn7YtYjFj8RzLGZOSWB4wTgdHZVGsZiyeYz1jEq54uBWae-lRQqTkQaEpIigqu98w6kGksKDQFNLhRxsxTqGKCAotF4ki7_1aVjAotBZFlEdbo8ZHig4KTdFEMffuxylUyYNCn5C8ADfcks7cvC2kUPuudodqHLHLbVsJ_d7XvoRi_Kz8pxuOfQllcx1VN_Tt27nZQdF3g09hOFWu95uDG4ezhuLTHb_HVV8d-rZ7_R_baXpTOLkGigv8QLFiiOss00III4yRHFUKZyhExte5wkwagUqjMtcUftt2jGVrjSgZZoblWhsp-ZT3McHpzOsfl9Ifpw\"><img src=\"https://mermaid.ink/img/pako:eNp1kz1vgzAQhv8KuplE-ONsw9Apa6d2qslgBbeJFCCiIDWN8t9LKInPUtjAz-PX57PuAru28lDAV-dO--R9UzZJkjTjWma7tu23yWr1Mv0zy7aLkFu-DIUVy1BauQzRYoAylGKsTBP2FOU3RIph5sEUn7YtYjFj8RzLGZOSWB4wTgdHZVGsZiyeYz1jEq54uBWae-lRQqTkQaEpIigqu98w6kGksKDQFNLhRxsxTqGKCAotF4ki7_1aVjAotBZFlEdbo8ZHig4KTdFEMffuxylUyYNCn5C8ADfcks7cvC2kUPuudodqHLHLbVsJ_d7XvoRi_Kz8pxuOfQllcx1VN_Tt27nZQdF3g09hOFWu95uDG4ezhuLTHb_HVV8d-rZ7_R_baXpTOLkGigv8QLFiiOss00III4yRHFUKZyhExte5wkwagUqjMtcUftt2jGVrjSgZZoblWhsp-ZT3McHpzOsfl9Ifpw?type=png\"></a></p>\n<div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki vitesse-dark\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #4D9375\">import</span><span style=\"color: #DBD7CAEE\"> heapq</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CB7676\">def</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #80A665\">lc_branch_and_bound</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">n</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> processing_times</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> deadlines</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> penalties</span><span style=\"color: #666666\">):</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    best_schedule </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4D9375\">None</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    min_penalty </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #B8A965\">float</span><span style=\"color: #666666\">(</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #C98A7D\">inf</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #666666\">)</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    mermaid_code </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">[</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #C98A7D\">graph TD</span><span style=\"color: #C99076\">\\n</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #666666\">]</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    mermaid_nodes </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">&#123;&#125;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    </span><span style=\"color: #758575DD\"># Priority queue: (penalty, schedule)</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    pq </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">[]</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    heapq</span><span style=\"color: #666666\">.</span><span style=\"color: #DBD7CAEE\">heappush</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">pq</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">(</span><span style=\"color: #4C9A91\">0</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">[]))</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    mermaid_nodes</span><span style=\"color: #666666\">[</span><span style=\"color: #B8A965\">str</span><span style=\"color: #666666\">([])]</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #C98A7D\">node</span><span style=\"color: #C99076\">%d%s</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">%</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">(</span><span style=\"color: #B8A965\">len</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">mermaid_nodes</span><span style=\"color: #666666\">),</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #C98A7D\">[root]</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #666666\">)</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    </span><span style=\"color: #4D9375\">while</span><span style=\"color: #DBD7CAEE\"> pq</span><span style=\"color: #666666\">:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">        penalty</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> schedule </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> heapq</span><span style=\"color: #666666\">.</span><span style=\"color: #DBD7CAEE\">heappop</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">pq</span><span style=\"color: #666666\">)</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">        </span><span style=\"color: #4D9375\">if</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #B8A965\">len</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">schedule</span><span style=\"color: #666666\">)</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">==</span><span style=\"color: #DBD7CAEE\"> n</span><span style=\"color: #666666\">:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">            </span><span style=\"color: #4D9375\">if</span><span style=\"color: #DBD7CAEE\"> penalty </span><span style=\"color: #CB7676\">&lt;</span><span style=\"color: #DBD7CAEE\"> min_penalty</span><span style=\"color: #666666\">:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                min_penalty </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> penalty</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                best_schedule </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #B8A965\">list</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">schedule</span><span style=\"color: #666666\">)</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">        </span><span style=\"color: #4D9375\">else</span><span style=\"color: #666666\">:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">            </span><span style=\"color: #4D9375\">for</span><span style=\"color: #DBD7CAEE\"> job </span><span style=\"color: #4D9375\">in</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #B8A965\">range</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">n</span><span style=\"color: #666666\">):</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                </span><span style=\"color: #4D9375\">if</span><span style=\"color: #DBD7CAEE\"> job </span><span style=\"color: #CB7676\">not</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">in</span><span style=\"color: #DBD7CAEE\"> schedule</span><span style=\"color: #666666\">:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                    new_schedule </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #B8A965\">list</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">schedule</span><span style=\"color: #666666\">)</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">+</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">[</span><span style=\"color: #DBD7CAEE\">job</span><span style=\"color: #666666\">]</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                    new_penalty </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> calculate_penalty</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">new_schedule</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> processing_times</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> deadlines</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> penalties</span><span style=\"color: #666666\">)</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                    </span><span style=\"color: #4D9375\">if</span><span style=\"color: #DBD7CAEE\"> new_penalty </span><span style=\"color: #CB7676\">&lt;=</span><span style=\"color: #DBD7CAEE\"> min_penalty</span><span style=\"color: #666666\">:</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                        heapq</span><span style=\"color: #666666\">.</span><span style=\"color: #DBD7CAEE\">heappush</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">pq</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">new_penalty</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> new_schedule</span><span style=\"color: #666666\">))</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                        mermaid_nodes</span><span style=\"color: #666666\">[</span><span style=\"color: #B8A965\">str</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">new_schedule</span><span style=\"color: #666666\">)]</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #C98A7D\">node</span><span style=\"color: #C99076\">%d%s</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">%</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">(</span><span style=\"color: #B8A965\">len</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">mermaid_nodes</span><span style=\"color: #666666\">),</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #B8A965\">str</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">new_schedule</span><span style=\"color: #666666\">))</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">                        mermaid_code</span><span style=\"color: #666666\">.</span><span style=\"color: #DBD7CAEE\">append</span><span style=\"color: #666666\">(</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #C98A7D\">   </span><span style=\"color: #C99076\">%s</span><span style=\"color: #C98A7D\"> --&gt; </span><span style=\"color: #C99076\">%s\\n</span><span style=\"color: #C98A7D99\">&#39;</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #CB7676\">%</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">mermaid_nodes</span><span style=\"color: #666666\">[</span><span style=\"color: #B8A965\">str</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">schedule</span><span style=\"color: #666666\">)],</span><span style=\"color: #DBD7CAEE\"> mermaid_nodes</span><span style=\"color: #666666\">[</span><span style=\"color: #B8A965\">str</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">new_schedule</span><span style=\"color: #666666\">)]))</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">    </span><span style=\"color: #4D9375\">return</span><span style=\"color: #DBD7CAEE\"> best_schedule</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> min_penalty</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">best_schedule</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> min_penalty </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> lc_branch_and_bound</span><span style=\"color: #666666\">(</span><span style=\"color: #DBD7CAEE\">n</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> t</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> d</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> p</span><span style=\"color: #666666\">)</span></span></code></pre></div><div class=\"language-python\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">python</span><pre class=\"shiki vitesse-dark\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #DBD7CAEE\">best_schedule </span><span style=\"color: #666666\">=</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #666666\">[</span><span style=\"color: #DBD7CAEE\">job </span><span style=\"color: #CB7676\">+</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4C9A91\">1</span><span style=\"color: #DBD7CAEE\"> </span><span style=\"color: #4D9375\">for</span><span style=\"color: #DBD7CAEE\"> job </span><span style=\"color: #4D9375\">in</span><span style=\"color: #DBD7CAEE\"> best_schedule</span><span style=\"color: #666666\">]</span></span>\n<span class=\"line\"><span style=\"color: #DBD7CAEE\">best_schedule</span><span style=\"color: #666666\">,</span><span style=\"color: #DBD7CAEE\"> min_penalty</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki vitesse-dark\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #dbd7caee\">([4, 1, 5, 2, 3], 7)</span></span></code></pre></div><p><a href=\"https://mermaid.live/edit#pako:eNp1kstugzAURH_FumsS4Sc2UrrKtqt2VdOFFZyHFHBEjdQ04t9rIHGhSXbWzPGMr3wvsHGlhRx2jTnt0fu6qBFCjXMeLRYvqA4m1vjzXiWaPFCpphN1tRpVptkDlms-qjck8lhqliD8z43vUb1Lnrgk7V36zMW9O-m9VUVCkEGYFdxD9ArRB9BtCsGu0KRuov1NGyv5rHXKxtljM5-XzzNiNpFET4z-TrgECVS2qcyhDB9_6UMK8Htb2QLycCzt1rRHX0BRdwE1rXdv53oDuW9am0B7Ko2364MJK1NBvjXHr6Da8uBd8zou07BTCZxMDfkFviHHIlsyKVgqFM4yxiRN4BxkTpZYppIzLDhTGZVdAj_Ohdh0KVIhFVGECUVVyuiQ9zGY_UO6X6qVwUU\"><img src=\"https://mermaid.ink/img/pako:eNp1kstugzAURH_FumsS4Sc2UrrKtqt2VdOFFZyHFHBEjdQ04t9rIHGhSXbWzPGMr3wvsHGlhRx2jTnt0fu6qBFCjXMeLRYvqA4m1vjzXiWaPFCpphN1tRpVptkDlms-qjck8lhqliD8z43vUb1Lnrgk7V36zMW9O-m9VUVCkEGYFdxD9ArRB9BtCsGu0KRuov1NGyv5rHXKxtljM5-XzzNiNpFET4z-TrgECVS2qcyhDB9_6UMK8Htb2QLycCzt1rRHX0BRdwE1rXdv53oDuW9am0B7Ko2364MJK1NBvjXHr6Da8uBd8zou07BTCZxMDfkFviHHIlsyKVgqFM4yxiRN4BxkTpZYppIzLDhTGZVdAj_Ohdh0KVIhFVGECUVVyuiQ9zGY_UO6X6qVwUU?type=png\"></a></p>\n","text":"课后练习24 pythonn = 5 p = [6, 3, 4, 8, 5] t = [2, 1, 2, 1, 1] d = [3, 1, 4, 2, 4]py...","permalink":"/post/算法设计与分析-课后练习24","photos":[],"count_time":{"symbolsCount":"3.3k","symbolsTime":"3 mins."},"categories":[{"name":"基础","slug":"基础","count":35,"path":"api/categories/基础.json"},{"name":"作业","slug":"基础/作业","count":23,"path":"api/categories/基础/作业.json"},{"name":"算法","slug":"基础/作业/算法","count":23,"path":"api/categories/基础/作业/算法.json"}],"tags":[{"name":"作业","slug":"作业","count":26,"path":"api/tags/作业.json"},{"name":"算法","slug":"算法","count":25,"path":"api/tags/算法.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E8%AF%BE%E5%90%8E%E7%BB%83%E4%B9%A024\"><span class=\"toc-text\">课后练习24</span></a></li></ol>","author":{"name":"ClaRn","slug":"blog-author","avatar":"/gallery/avatar.jpg","link":"/","description":"当你在浪费时间的事情里获得了快乐，那就不是在浪费时间。 ——罗素","socials":{"github":"https://github.com/iYIYiYIYi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"算法设计与分析-课后练习29","uid":"07d230dc9f28974a326d4fc65ffb6691","slug":"算法设计与分析-课后练习29","date":"2023-12-21T23:36:21.000Z","updated":"2023-12-22T07:39:16.688Z","comments":true,"path":"api/articles/算法设计与分析-课后练习29.json","keywords":"记录, 学习, ClaRnS","cover":"/gallery/algo.png","text":"课后练习29 pythonS = [3, 7, 5, 9] C = 20 epsilon = 0.2pythondelta = epsilon / len(S)...","permalink":"/post/算法设计与分析-课后练习29","photos":[],"count_time":{"symbolsCount":"1.5k","symbolsTime":"1 mins."},"categories":[{"name":"基础","slug":"基础","count":35,"path":"api/categories/基础.json"},{"name":"作业","slug":"基础/作业","count":23,"path":"api/categories/基础/作业.json"},{"name":"算法","slug":"基础/作业/算法","count":23,"path":"api/categories/基础/作业/算法.json"}],"tags":[{"name":"作业","slug":"作业","count":26,"path":"api/tags/作业.json"},{"name":"算法","slug":"算法","count":25,"path":"api/tags/算法.json"}],"author":{"name":"ClaRn","slug":"blog-author","avatar":"/gallery/avatar.jpg","link":"/","description":"当你在浪费时间的事情里获得了快乐，那就不是在浪费时间。 ——罗素","socials":{"github":"https://github.com/iYIYiYIYi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"算法设计与分析-课后练习25","uid":"c73a84f87e472429cf15dcccccb6900d","slug":"算法设计与分析-课后练习25","date":"2023-12-20T06:05:43.000Z","updated":"2023-12-20T14:06:05.299Z","comments":true,"path":"api/articles/算法设计与分析-课后练习25.json","keywords":"记录, 学习, ClaRnS","cover":"/gallery/algo.png","text":"课后练习25 使用LC分支界限法解0-1背包问题 pythonN = 5 M = 12 p = [10, 15, 6, 8, 4] w = [4, 6, 3, ...","permalink":"/post/算法设计与分析-课后练习25","photos":[],"count_time":{"symbolsCount":"3.2k","symbolsTime":"3 mins."},"categories":[{"name":"基础","slug":"基础","count":35,"path":"api/categories/基础.json"},{"name":"作业","slug":"基础/作业","count":23,"path":"api/categories/基础/作业.json"},{"name":"算法","slug":"基础/作业/算法","count":23,"path":"api/categories/基础/作业/算法.json"}],"tags":[{"name":"作业","slug":"作业","count":26,"path":"api/tags/作业.json"},{"name":"算法","slug":"算法","count":25,"path":"api/tags/算法.json"}],"author":{"name":"ClaRn","slug":"blog-author","avatar":"/gallery/avatar.jpg","link":"/","description":"当你在浪费时间的事情里获得了快乐，那就不是在浪费时间。 ——罗素","socials":{"github":"https://github.com/iYIYiYIYi","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}